<!DOCTYPE html>
<meta charset="utf-8">
<title>AFSC Gap Viz Tests</title>
<link rel="stylesheet" href="./qunit-2.19.0.css">
<link rel="stylesheet" href="../css/viz.css">
<body>
    <div id="qunit"></div>
    <div id="qunit-fixture"></div>

    <article>

        <div class="inner">
            <h1>AFSC GAP Comparison Tool</h1>
            <div id="intro">
                Community contributed visualization of bottom trawl surveys data from the NOAA Alaska Fisheries Science Center Groundfish Assessment Program (<a target="_blank" href="https://www.fisheries.noaa.gov/contact/groundfish-assessment-program">NOAA AFSC GAP</a>) as part of <a href="https://pyafscgap.org/">AFSC GAP for Python</a>. This tool enables fast comparisons between species, years, and areas. Though you do not need to be a developer to use this application, it also offers links to download data as CSV and to generate Python code for programmers to continue their explorations outside this tool.
            </div>
            <div class="button-holder">
                <a href="#main" id="share-link">Share</a>
                <a href="https://pyafscgap.org" target="_blank">Pyafscgap Homepage >></a>
            </div>
        </div>

        <div id="tutorial-panel">
            <div id="intro-text">
                <div class="loading" id="intro-loading">
                    <img src="/static/img/loading.svg" alt="loading indicator"> Loading...
                </div>
            </div>
            <div id="intro-links">
                <span id="skip-intro-link-holder">
                    <a href="#tutorial-panel" id="skip-intro-link">Skip Intro >></a> //
                </span>
                <span id="back-link-holder">
                    <a href="#tutorial-panel" id="back-link"><< Back</a> //
                </span>
                <span id="next-link-holder">
                    <a href="#tutorial-panel" id="next-link">Next >></a>
                </span>
            </div>
        </div>
        <div class="displays" id="displays">

            <div class="display" id="display-1">
                <div class="dataset-selector">
                    <select class="area-select" autocomplete="off">
                        <option value="AI">Aleutian Islands</option>
                        <option value="BSS" selected>Bearing Sea Slope</option>
                        <option value="GOA">Gulf of Alaska</option>
                        <option value="NBS">North Bearing Sea</option>
                        <option value="EBS">South East Bearing Sea</option>
                    </select>
                    <select class="species-type-select" autocomplete="off">
                        <option value="common" selected>Common names</option>
                        <option value="scientific">Scientific name</option>
                    </select>
                    <select class="temperature-select temperature-select-1" autocomplete="off">
                        <option value="disabled">No temperatures</option>
                        <option value="surface">Surface temperatures</option>
                        <option value="bottom" selected>Bottom temperatures</option>
                    </select>
                </div>
                <div class="survey-loading loading panel">
                    <img src="/static/img/loading.svg" alt="loading indicator"> Loading...
                </div>
                <div class="survey-specific-fields panel">
                    <div class="species-selects">
                        Not loaded
                    </div>
                </div>
                <div class="viz-panel panel" id="viz-panel-1">
                    <div class="map-loading loading">
                        <img src="/static/img/loading.svg" alt="loading indicator"> Loading...
                    </div>
                    <div class="no-data-message">No matching data found</div>
                    <div class="viz-holder">
                        <svg class="viz" id="viz-1"></svg>
                    </div>
                    <div class="graph-description">
                        <div class="graph-description-inner"></div>
                        <div class="position-hover-display"></div>
                        <div class="temperature-hover-display"></div>
                        <div class="species-1-hover-display"></div>
                        <div class="species-2-hover-display"></div>
                    </div>
                    <div class="legend">
                        <div class="grid-legend-holder">
                            <div class="legend-title">Temperature</div>
                            <table class="grid-legend">
                            </table>
                        </div>
                        <div class="grid-diverging-legend-holder">
                            <div class="legend-title">Change in Temperature</div>
                            <table class="grid-diverging-legend">
                            </table>
                        </div>
                        <div class="grid-indicator-holder">
                            <div class="legend-title">Hauls</div>
                            <table>
                                <tr>
                                    <td><span class="presence-indicator"></span></td>
                                    <td class="presence-description">Haul taken in area.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="radius-legend-holder">
                            <div class="legend-title">Catch</div>
                            <table class="radius-legend">
                            </table>
                        </div>
                    </div>
                </div>
                <div class="download-panel panel">
                    <div class="button-holder">
                        <a href="#" class="download-link" target="_blank">Download Data</a>
                        <a href="#" class="python-link" target="_blank">Generate Python</a>
                    </div>
                </div>
            </div>

            <div class="display" id="display-2">
                <div class="dataset-selector">
                    <select class="area-select" autocomplete="off">
                        <option value="AI">Aleutian Islands</option>
                        <option value="BSS" selected>Bearing Sea Slope</option>
                        <option value="GOA">Gulf of Alaska</option>
                        <option value="NBS">North Bearing Sea</option>
                        <option value="EBS">South East Bearing Sea</option>
                    </select>
                    <select class="species-type-select" autocomplete="off">
                        <option value="common" selected>Common names</option>
                        <option value="scientific">Scientific name</option>
                    </select>
                    <select class="temperature-select temperature-select-2" autocomplete="off">
                        <option value="disabled">No temperatures</option>
                        <option value="surface">Surface temperatures</option>
                        <option value="bottom" selected>Bottom temperatures</option>
                    </select>
                </div>
                <div class="survey-loading loading panel">
                    <img src="/static/img/loading.svg" alt="loading indicator"> Loading...
                </div>
                <div class="survey-specific-fields panel">
                    <div class="species-selects">
                        Not loaded
                    </div>
                </div>
                <div class="viz-panel panel" id="viz-panel-2">
                    <div class="map-loading loading">
                        <img src="/static/img/loading.svg" alt="loading indicator"> Loading...
                    </div>
                    <div class="no-data-message">No matching data found</div>
                    <div class="viz-holder">
                        <svg class="viz" id="viz-2"></svg>
                    </div>
                    <div class="graph-description">
                        <div class="graph-description-inner"></div>
                        <div class="position-hover-display"></div>
                        <div class="temperature-hover-display"></div>
                        <div class="species-1-hover-display"></div>
                        <div class="species-2-hover-display"></div>
                    </div>
                    <div class="legend">
                        <div class="grid-legend-holder">
                            <div class="legend-title">Temperature</div>
                            <table class="grid-legend">
                            </table>
                        </div>
                        <div class="grid-diverging-legend-holder">
                            <div class="legend-title">Change in Temperature</div>
                            <table class="grid-diverging-legend">
                            </table>
                        </div>
                        <div class="grid-indicator-holder">
                            <div class="legend-title">Hauls</div>
                            <table>
                                <tr>
                                    <td><span class="presence-indicator"></span></td>
                                    <td class="presence-description">Haul taken in area.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="radius-legend-holder">
                            <div class="legend-title">Catch</div>
                            <table class="radius-legend">
                            </table>
                        </div>
                    </div>
                </div>
                <div class="download-panel panel">
                    <div class="button-holder">
                        <a href="#" class="download-link" target="_blank">Download Data</a>
                        <a href="#" class="python-link" target="_blank">Generate Python</a>
                    </div>
                </div>
            </div>

        </div>
        <div class="dynamic-scales-options" id="dynamic-scales-options">
            <div><input type="checkbox" id="dynamic-scales-check" checked> Dynamic scaling</div>
            <details class="small">
                <summary>More info about dynamic scaling.</summary>
                <div>
                    The same scales are always used on the two displays but, by default, the circle size and color scales are recalculated using the min and max values for the currently active filters in the visualization. In other words, the colors and circle sizes are scaled for the data currently visualized to show contrast and not for the min / max of all data available. If you don't want this behavior, a fixed set of min and max values can be used for the scale for all visualizations by unchecking the "dynamic scaling" option (0 - 1000 kg / hectare CPUE, -2 to 14 C temperature, -5 to 5 C temperature delta). In general, dynamic scaling is recommended.
                </div>
            </details>
        </div>
        
    </article>

    <script src="./qunit-2.19.0.js"></script>

    <script type="text/javascript" src="../js_third_party/d3.min.js"></script>
    <script type="text/javascript" src="../js_third_party/papaparse.min.js"></script>

    <script type="text/javascript" src="../js/afscgapviz.js"></script>
    <script type="text/javascript" src="../js/display.js"></script>
    <script type="text/javascript" src="../js/intro.js"></script>
    <script type="text/javascript" src="../js/mapviz.js"></script>
    <script type="text/javascript" src="../js/scale.js"></script>
    <script type="text/javascript" src="../js/species.js"></script>
    <script type="text/javascript" src="../js/state.js"></script>
    <script type="text/javascript" src="../js/url.js"></script>

    <script src="./test_display.js"></script>
    <script src="./test_mapviz.js"></script>
    <script src="./test_species.js"></script>
    <script src="./test_url.js"></script>
</body>